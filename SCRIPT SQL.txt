CREATE DATABASE VOTACION;

CREATE TABLE USER (
	rut VARCHAR(12) NOT NULL PRIMARY KEY,
	alias VARCHAR(16),
	nombre_apellido VARCHAR(255) NOT NULL,
	email VARCHAR(255) NOT NULL,
	nosotros VARCHAR(255),
	comuna INT NOT NULL,
	candidato INT NOT NULL);

CREATE TABLE REGION (
	id_reg INT NOT NULL PRIMARY KEY,
	region VARCHAR(255) NOT NULL);

CREATE TABLE COMUNA (
	id_com INT NOT NULL PRIMARY KEY,
	comuna VARCHAR(255) NOT NULL);

CREATE TABLE CANDIDATO (
	id_can INT NOT NULL PRIMARY KEY,
	candidato VARCHAR(255) NOT NULL); 

ALTER TABLE comuna ADD CONSTRAINT fk_region FOREIGN KEY (region) REFERENCES region(id_reg);
ALTER TABLE user ADD CONSTRAINT fk_comuna FOREIGN KEY (comuna) REFERENCES comuna(id_com);
ALTER TABLE user ADD CONSTRAINT fk_candidato FOREIGN KEY (candidato) REFERENCES candidato(id_can);